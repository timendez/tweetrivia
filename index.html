<!DOCTYPE html>
<head>
    <title>Tweetrivia</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js" type="text/javascript"></script>
    <link href="css/style1.css" rel=" stylesheet" type="text/css"/>
    <link href="css/endGame.css" rel="stylesheet" type="text/css">
</head>
<body>
    <img src="https://g.twimg.com/dev/sites/default/files/images_documentation/sign-in-with-twitter-gray.png" id = "login">
    <form>
        PIN: <br>
        <input type="text" name="pin" id = "PINFIELD"> 
    </form>
    <button type='button' onclick="return getPin();">Submit</button> 
    <script type="text/javascript">
        document.getElementById("login").onclick = function() {myFunction()};
        function myFunction() {
            var cb = new Codebird;
        cb.setConsumerKey("2jCvFchz3pa5CrVxTITm3DbJ0", "3wZizuZjWjwpGnACuxwJbyQNdL8KUTW2zwY8g9rQDyApW9ahGE");
        //cb.setToken("403332774-Fn288SA96MuJnd6OzMyRWtjLyoZ509TLiLwTv6pl", "XyMg5eHaf5ahQHKle72EPruXgJx4ifUq2VAmG1j5xCbnD");

        $("#login").click(function(){
        cb.__call(
            "oauth_requestToken",
            {oauth_callback: "oob"},
            function (reply) {
            // stores it
            cb.setToken(reply.oauth_token, reply.oauth_token_secret);

            // gets the authorize screen URL
            cb.__call(
                    "oauth_authorize",
                    {},
                    function (auth_url) {
                           window.open(auth_url, "Sign into Twitter");
                    }
            );
            
            }
        );
        });

        function getPin() {
        alert("Submit button clicked!");
        var cb = new Codebird;
        cb.setConsumerKey("2jCvFchz3pa5CrVxTITm3DbJ0", "3wZizuZjWjwpGnACuxwJbyQNdL8KUTW2zwY8g9rQDyApW9ahGE");
        
        cb.__call(
            "oauth_accessToken",
            {oauth_verifier: document.getElementById("PINFIELD").value},
            function (reply) {
            // store the authenticated token, which may be different from the request token (!)
                cb.setToken(reply.oauth_token, reply.oauth_token_secret);
                alert(reply.oauth_token+" "+ document.getElementById("PINFIELD").value);
            }
        );
    


        cb.__call(
    "statuses_update",
    {"status": "Whohoo, I just tweeted!"},
    function (reply) {
        // ...
    }
);
    }
    }
    </script>

        <p id="status" align="right"></p>
       <p align="right">
          <fb:login-button scope="public_profile,email" align="right" onlogin="checkLoginState();">
          </fb:login-button>
        </p>
         
    <div id="title">
        <p>Tweetrivia</p>
    </div>
    <div>
        <br />
           <div id="scoreDiv">
               <p id="score"> Score: </p>
               <p id= "scoreVal"> 0</p>
           </div>
        <br/>
        <br />
			<div id="timeLeftDiv">
				<div id="timeLeftLabel">Time Remaining: </div>
				<meter id="timer"></meter>
			</div>
        <br />
        <div id="tweet">
            <p id="tweetText">Tweet goes here</p>
        </div>
        <br />
        <div id="mc">
            <button id="choice1" class="choiceButton" onclick="answer(this.id)">Choice A</button>
            <button id="choice2" class="choiceButton" onclick="answer(this.id)">Choice B</button>
            <br />
            <br />
            <button id="choice3" class="choiceButton" onclick="answer(this.id)">Choice C</button>
            <button id="choice4" class="choiceButton" onclick="answer(this.id)">Choice D</button>
        </div>
    </div>

    <div id="mask"> </div>
    <div id="popup2" >
        <h2>Pick A Category..</h2>
        <div class="flexable">
            <select id="category">
                <option value="actor">Actor</option>
				<option value="music">Music</option>
				<option value="corporation">Corporation</option>
                <br />
                <input type="button" value="Start" onclick="loadNewQuestion()" class="button" />
            </select>
        </div>
    </div>
  
    <div id="popup" class="hide">
        <h2 id="text"></h2>
        <p id="finalScore"></p>
        <div class="flexable">
            <input type="button" value="Restart" onclick="restart()" class="button"/>
            <input type="button" value="Change Category" class="button" onclick="change()"/>
        </div>
    </div>

    <script src="http://www.parsecdn.com/js/parse-1.3.4.min.js" type="text/javascript"></script>
    <script src="js/parseDB.js" type="text/javascript"></script>
	<script src="js/codebird.js" type="text/javascript"></script>
	<script src="js/index.js" type="text/javascript"></script>
</body>
</html>







